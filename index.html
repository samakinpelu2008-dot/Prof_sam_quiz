<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quiz App</title>
<style>
  * { box-sizing: border-box; font-family: "Segoe UI", sans-serif; }
  body { margin: 0; min-height: 100vh; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; justify-content: center; align-items: center; }
  .container { width: 960px; padding: 20px; }
  h1 { text-align: center; color: #fff; margin-bottom: 30px; }

  .mode-grid { display: grid; grid-template-columns: repeat(2,1fr); gap:25px; }
  .mode-card { background: linear-gradient(135deg,#667eea,#764ba2); color:#fff; border-radius:22px; padding:50px 20px; box-shadow:0 20px 40px rgba(0,0,0,0.25); cursor:pointer; transition: transform .2s, box-shadow .2s; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; }
  .mode-card:hover { transform: translateY(-5px); box-shadow: 0 25px 50px rgba(0,0,0,0.35);}
  .mode-card h2 { margin:0 0 10px 0; font-size:24px; }
  .mode-card p { font-size:14px; color:#e0e0ff; }

  .card { display:none; background:#fff; border-radius:22px; padding:30px; box-shadow:0 20px 40px rgba(0,0,0,0.25); animation:fade .3s ease; }
  .progress { font-size:14px; color:#666; margin-bottom:15px; }
  .question { font-size:18px; font-weight:600; margin-bottom:20px; }
  .options { display:grid; gap:12px; }
  .option { padding:14px; border-radius:14px; background:#f2f4ff; cursor:pointer; border:2px solid transparent; transition:.2s; }
  .option:hover { background:#e3e8ff; }
  .option.selected { border-color:#667eea; }
  .option.correct { background:#d6f5dc; border-color:#2ecc71; }
  .option.wrong { background:#ffd6d6; border-color:#e74c3c; }
  .nav { display:flex; justify-content:space-between; margin-top:25px; }
  .nav button { padding:10px 18px; border-radius:12px; border:none; cursor:pointer; background:#667eea; color:#fff; }
  .nav button:disabled { background:#ccc; }
  .timer { text-align:right; font-size:14px; color:#555; margin-bottom:10px; }
  @keyframes fade { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }
</style>
</head>
<body>

<div class="container">
  <h1>üìò Quiz App</h1>

  <div class="mode-grid" id="modeBox">
    <div class="mode-card" onclick="handleModeClick('read')">
      <h2>üìñ Read Mode</h2>
      <p>Study questions with answers highlighted</p>
    </div>
    <div class="mode-card" onclick="handleModeClick('all')">
      <h2>üìù Solve All</h2>
      <p>Attempt all questions in order</p>
    </div>
    <div class="mode-card" onclick="handleModeClick('random15')">
      <h2>‚è± Random 15</h2>
      <p>15 random questions, timed</p>
    </div>
    <div class="mode-card" onclick="handleModeClick('random30')">
      <h2>‚è± Random 30</h2>
      <p>30 random questions, timed</p>
    </div>
  </div>

  <div class="card" id="quizCard">
    <div class="timer" id="timer"></div>
    <div class="progress" id="progress"></div>
    <div class="question" id="questionText"></div>
    <div class="options" id="optionsBox"></div>
    <div class="nav">
      <button onclick="prevQ()">‚¨Ö Prev</button>
      <button onclick="nextQ()">Next ‚û°</button>
    </div>
  </div>
</div>

<script>
// ===== EMBEDDED QUESTIONS =====
const QUESTIONS = [
  { q: "What is the largest planet in our solar system?", options: ["Earth","Mars","Jupiter","Saturn"], answer: 2 },
  { q: "What is H2O commonly known as?", options: ["Oxygen","Water","Hydrogen","Salt"], answer: 1 },
  { q: "Which animal is known as the 'King of the Jungle'?", options: ["Lion","Tiger","Elephant","Giraffe"], answer: 0 },
  { q: "What is the square root of 64?", options: ["6","8","10","12"], answer: 1 },
  { q: "Who wrote 'Romeo and Juliet'?", options: ["Shakespeare","Dickens","Tolstoy","Hemingway"], answer: 0 },
  { q: "What is the chemical symbol for Gold?", options: ["Au","Ag","Go","Gd"], answer: 0 },
  { q: "Which gas do plants release during photosynthesis?", options: ["Oxygen","Carbon Dioxide","Nitrogen","Hydrogen"], answer: 0 },
  { q: "What is 12 √ó 12?", options: ["144","121","124","142"], answer: 0 },
  { q: "Which continent is Egypt in?", options: ["Asia","Europe","Africa","South America"], answer: 2 },
  { q: "Which planet is known as the Red Planet?", options: ["Mars","Venus","Mercury","Jupiter"], answer: 0 },
  { q: "Who painted the Mona Lisa?", options: ["Michelangelo","Van Gogh","Leonardo da Vinci","Picasso"], answer: 2 },
  { q: "What is the freezing point of water?", options: ["0¬∞C","100¬∞C","-10¬∞C","50¬∞C"], answer: 0 },
  { q: "Which element has the symbol 'O'?", options: ["Osmium","Oxygen","Gold","Iron"], answer: 1 },
  { q: "Which language is primarily spoken in Brazil?", options: ["Spanish","English","Portuguese","French"], answer: 2 },
  { q: "Which ocean is the largest?", options: ["Atlantic","Indian","Arctic","Pacific"], answer: 3 }
];

// ===== QUIZ ENGINE =====
let mode="", quizQuestions=[], index=0, answers={}, timeLeft=0, timerInterval=null;
const REDIRECT_URL = "https://www.effectivegatecpm.com/prwmz1t9?key=17b80b2cde4a338414105a2c5427f8ce";

function handleModeClick(selectedMode){
  const lastRedirect = localStorage.getItem("lastRedirect") || 0;
  const now = Date.now();
  if(now - lastRedirect > 12*60*60*1000){
    localStorage.setItem("selectedModeAfterRedirect", selectedMode);
    localStorage.setItem("lastRedirect", now);
    window.location.href = REDIRECT_URL;
    return;
  }
  startQuiz(selectedMode);
}

window.addEventListener("DOMContentLoaded", ()=>{
  const resumedMode = localStorage.getItem("selectedModeAfterRedirect");
  if(resumedMode){
    localStorage.removeItem("selectedModeAfterRedirect");
    startQuiz(resumedMode);
  }
});

function startQuiz(selectedMode){
  mode = selectedMode; index=0; answers={};
  if(mode==="all"||mode==="read"){ quizQuestions=[...QUESTIONS]; }
  if(mode==="random15"){ quizQuestions=shuffle([...QUESTIONS]).slice(0,15); startTimer(15*60);}
  if(mode==="random30"){ quizQuestions=shuffle([...QUESTIONS]).slice(0,30); startTimer(30*60);}
  document.getElementById("modeBox").style.display="none";
  document.getElementById("quizCard").style.display="block";
  render();
}

function render(){
  const q = quizQuestions[index];
  document.getElementById("progress").innerText=`Question ${index+1} of ${quizQuestions.length}`;
  document.getElementById("questionText").innerText = q.q;

  const box = document.getElementById("optionsBox"); 
  box.innerHTML = "";
  q.options.forEach((opt,i)=>{
    const div = document.createElement("div"); 
    div.className = "option"; 
    div.innerText = opt;
    if(mode==="read" && i===q.answer) div.classList.add("correct");
    if(answers[index]===i) div.classList.add("selected");
    div.onclick = ()=>{
      if(mode==="read") return;
      answers[index]=i; render();
    };
    box.appendChild(div);
  });
}

function nextQ(){ if(index<quizQuestions.length-1){ index++; render(); } }
function prevQ(){ if(index>0){ index--; render(); } }

function startTimer(seconds){
  timeLeft=seconds; updateTimer();
  timerInterval=setInterval(()=>{
    timeLeft--; updateTimer();
    if(timeLeft<=0) clearInterval(timerInterval);
  },1000);
}

function updateTimer(){
  const m=Math.floor(timeLeft/60), s=timeLeft%60;
  document.getElementById("timer").innerText=`Time: ${m}:${s.toString().padStart(2,"0")}`;
}

function shuffle(arr){ return arr.sort(()=>Math.random()-0.5); }
</script>

</body>
</html>
