<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quiz App</title>
<style>
  * { box-sizing: border-box; font-family: "Segoe UI", sans-serif; }

  body {
    margin: 0;
    min-height: 100vh;
    background: linear-gradient(135deg, #667eea, #764ba2);
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .container {
    width: 960px;
    max-width: 960px;
    padding: 20px;
  }

  h1 {
    text-align: center;
    color: #fff;
    margin-bottom: 30px;
  }

  /* MODE SELECTION GRID */
  .mode-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 25px;
  }

  .mode-card {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
    border-radius: 22px;
    padding: 50px 20px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.25);
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
  }

  .mode-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 25px 50px rgba(0,0,0,0.35);
  }

  .mode-card h2 { margin: 0 0 10px 0; font-size: 24px; }
  .mode-card p { font-size: 14px; color: #e0e0ff; }

  /* QUIZ CARD */
  .card {
    display: none;
    background: #fff;
    border-radius: 22px;
    padding: 30px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.25);
    animation: fade .3s ease;
  }

  .progress { font-size: 14px; color: #666; margin-bottom: 15px; }
  .question { font-size: 18px; font-weight: 600; margin-bottom: 20px; }
  .options { display: grid; gap: 12px; }

  .option {
    padding: 14px;
    border-radius: 14px;
    background: #f2f4ff;
    cursor: pointer;
    border: 2px solid transparent;
    transition: .2s;
  }

  .option:hover { background: #e3e8ff; }
  .option.selected { border-color: #667eea; }
  .option.correct { background: #d6f5dc; border-color: #2ecc71; }
  .option.wrong { background: #ffd6d6; border-color: #e74c3c; }

  .nav { display: flex; justify-content: space-between; margin-top: 25px; }
  .nav button {
    padding: 10px 18px;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    background: #667eea;
    color: #fff;
  }
  .nav button:disabled { background: #ccc; }

  .timer { text-align: right; font-size: 14px; color: #555; margin-bottom: 10px; }

  @keyframes fade {
    from {opacity:0; transform: translateY(10px);}
    to {opacity:1; transform: translateY(0);}
  }
</style>
</head>
<body>

<div class="container">

  <h1>üìò Quiz App</h1>

  <!-- MODE SELECTION -->
  <div class="mode-grid" id="modeBox">
    <div class="mode-card" onclick="startQuiz('read')">
      <h2>üìñ Read Mode</h2>
      <p>Study questions with answers highlighted</p>
    </div>
    <div class="mode-card" onclick="startQuiz('all')">
      <h2>üìù Solve All</h2>
      <p>Attempt all questions in order</p>
    </div>
    <div class="mode-card" onclick="startQuiz('random15')">
      <h2>‚è± Random 15</h2>
      <p>15 random questions, timed</p>
    </div>
    <div class="mode-card" onclick="startQuiz('random30')">
      <h2>‚è± Random 30</h2>
      <p>30 random questions, timed</p>
    </div>
  </div>

  <!-- QUIZ CARD -->
  <div class="card" id="quizCard">
    <div class="timer" id="timer"></div>
    <div class="progress" id="progress"></div>
    <div class="question" id="questionText"></div>
    <div class="options" id="optionsBox"></div>

    <div class="nav">
      <button onclick="prevQ()">‚¨Ö Prev</button>
      <button onclick="nextQ()">Next ‚û°</button>
    </div>
  </div>

</div>

<script src="questions.js"></script>
<script>
let mode = "", quizQuestions = [], index = 0, answers = {}, timeLeft = 0, timerInterval = null;

function startQuiz(selectedMode){
  mode = selectedMode; index=0; answers={};

  if(mode==="all"||mode==="read"){ quizQuestions=[...QUESTIONS]; }
  if(mode==="random15"){ quizQuestions=shuffle([...QUESTIONS]).slice(0,15); startTimer(15*60);}
  if(mode==="random30"){ quizQuestions=shuffle([...QUESTIONS]).slice(0,30); startTimer(30*60);}

  document.getElementById("modeBox").style.display="none";
  document.getElementById("quizCard").style.display="block";
  render();
}

function render(){
  const q=quizQuestions[index];
  document.getElementById("progress").innerText=`Question ${index+1} of ${quizQuestions.length}`;
  document.getElementById("questionText").innerText=q.q;

  const box=document.getElementById("optionsBox"); box.innerHTML="";
  q.options.forEach((opt,i)=>{
    const div=document.createElement("div"); div.className="option"; div.innerText=opt;

    if(mode==="read" && i===q.answer) div.classList.add("correct");
    if(answers[index]===i) div.classList.add("selected");

    div.onclick=()=>{ if(mode==="read") return; answers[index]=i; render(); };
    box.appendChild(div);
  });
}

function nextQ(){ if(index<quizQuestions.length-1){ index++; render(); } }
function prevQ(){ if(index>0){ index--; render(); } }

function startTimer(seconds){
  timeLeft=seconds; updateTimer();
  timerInterval=setInterval(()=>{
    timeLeft--; updateTimer();
    if(timeLeft<=0) clearInterval(timerInterval);
  },1000);
}

function updateTimer(){
  const m=Math.floor(timeLeft/60), s=timeLeft%60;
  document.getElementById("timer").innerText=`Time: ${m}:${s.toString().padStart(2,"0")}`;
}

function shuffle(arr){ return arr.sort(()=>Math.random()-0.5); }
</script>

</body>
</html>
